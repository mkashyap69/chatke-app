{"ast":null,"code":"import _regeneratorRuntime from\"/Users/manish./Desktop/WebDev/whatsapp-socketio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/manish./Desktop/WebDev/whatsapp-socketio/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';export var login=function login(email,password){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:'USER_LOGIN_START'});config={headers:{'Content-Type':'application/json'}};_context.next=5;return axios.post('https://whatsapp-socketio-react.herokuapp.com/api/v1/users/login',{email:email,password:password},config);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;dispatch({type:'USER_LOGIN_SUCCESS',payload:data});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);dispatch({type:'USER_LOGIN_FAILURE',payload:_context.t0.response&&_context.t0.response.data.message?_context.t0.response.data.message:_context.t0.message});case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var signup=function signup(userData){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,_yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:'USER_SIGNUP_START'});config={headers:{'Content-type':'application/json'}};_context2.next=5;return axios.post('https://whatsapp-socketio-react.herokuapp.com/api/v1/users/signup',userData,config);case 5:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;dispatch({type:'USER_SIGNUP_SUCCESS',payload:data});_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);dispatch({type:'USER_SIGNUP_FAILURE',payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getUserByUserId=function getUserByUserId(userId){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var source,_getState,user,config,_yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:'GET_USER_START'});// cancelToken and source declaration\nsource=axios.CancelToken.source();// save the new request for cancellation\n_getState=getState(),user=_getState.user;config={cancelToken:source.token,headers:{Authorization:\"Bearer \".concat(user.data.token)}};_context3.next=7;return axios.get(\"https://whatsapp-socketio-react.herokuapp.com/api/v1/users/\".concat(userId),config);case 7:_yield$axios$get=_context3.sent;data=_yield$axios$get.data;source&&source.cancel('Operation canceled due to new request.');dispatch({type:'GET_USER_SUCCESS',payload:data});_context3.next=16;break;case 13:_context3.prev=13;_context3.t0=_context3[\"catch\"](0);dispatch({type:'GET_USER_FAILURE',payload:_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message});case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,13]]);}));return function(_x3,_x4){return _ref3.apply(this,arguments);};}();};export var ClickedUser=function ClickedUser(user){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:try{dispatch({type:'GET_CLICKED_USER_START'});dispatch({type:'GET_CLICKED_USER_SUCCESS',payload:user});}catch(error){dispatch({type:'GET_CLICKED_USER_FAILURE',payload:'Error'});}case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x5,_x6){return _ref4.apply(this,arguments);};}();};export var removeClickedUser=function removeClickedUser(){return function(dispatch){console.log('hi');try{dispatch({type:'REMOVE_CLICKED_USER_START'});dispatch({type:'REMOVE_CLICKED_USER_SUCCESS'});}catch(error){dispatch({type:'REMOVE_CLICKED_USER_FAILURE',payload:'Error'});}};};export var logout=function logout(){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:try{dispatch({type:'LOGOUT_START'});dispatch({type:'LOGOUT_SUCCESS'});}catch(error){dispatch({type:'LOGOUT_FAILURE'});}case 1:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x7,_x8){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/manish./Desktop/WebDev/whatsapp-socketio/client/src/redux/actions/userActions.js"],"names":["axios","login","email","password","dispatch","type","config","headers","post","data","payload","response","message","signup","userData","getUserByUserId","userId","getState","source","CancelToken","user","cancelToken","token","Authorization","get","cancel","ClickedUser","error","removeClickedUser","console","log","logout"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nexport const login = (email, password) => async (dispatch) => {\n  try {\n    dispatch({\n      type: 'USER_LOGIN_START',\n    });\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    const { data } = await axios.post(\n      'https://whatsapp-socketio-react.herokuapp.com/api/v1/users/login',\n      { email, password },\n      config\n    );\n\n    dispatch({\n      type: 'USER_LOGIN_SUCCESS',\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: 'USER_LOGIN_FAILURE',\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n\nexport const signup = (userData) => async (dispatch) => {\n  try {\n    dispatch({\n      type: 'USER_SIGNUP_START',\n    });\n\n    const config = {\n      headers: {\n        'Content-type': 'application/json',\n      },\n    };\n\n    const { data } = await axios.post(\n      'https://whatsapp-socketio-react.herokuapp.com/api/v1/users/signup',\n      userData,\n      config\n    );\n\n    dispatch({\n      type: 'USER_SIGNUP_SUCCESS',\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: 'USER_SIGNUP_FAILURE',\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n\nexport const getUserByUserId = (userId) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: 'GET_USER_START',\n    });\n\n    // cancelToken and source declaration\n\n    let source = axios.CancelToken.source();\n\n    // save the new request for cancellation\n\n    const { user } = getState();\n\n    const config = {\n      cancelToken: source.token,\n      headers: {\n        Authorization: `Bearer ${user.data.token}`,\n      },\n    };\n\n    const { data } = await axios.get(\n      `https://whatsapp-socketio-react.herokuapp.com/api/v1/users/${userId}`,\n      config\n    );\n    source && source.cancel('Operation canceled due to new request.');\n    dispatch({\n      type: 'GET_USER_SUCCESS',\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: 'GET_USER_FAILURE',\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n\nexport const ClickedUser = (user) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: 'GET_CLICKED_USER_START',\n    });\n\n    dispatch({\n      type: 'GET_CLICKED_USER_SUCCESS',\n      payload: user,\n    });\n  } catch (error) {\n    dispatch({\n      type: 'GET_CLICKED_USER_FAILURE',\n      payload: 'Error',\n    });\n  }\n};\n\nexport const removeClickedUser = () => (dispatch) => {\n  console.log('hi');\n  try {\n    dispatch({\n      type: 'REMOVE_CLICKED_USER_START',\n    });\n\n    dispatch({\n      type: 'REMOVE_CLICKED_USER_SUCCESS',\n    });\n  } catch (error) {\n    dispatch({\n      type: 'REMOVE_CLICKED_USER_FAILURE',\n      payload: 'Error',\n    });\n  }\n};\n\nexport const logout = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: 'LOGOUT_START',\n    });\n\n    dispatch({\n      type: 'LOGOUT_SUCCESS',\n    });\n  } catch (error) {\n    dispatch({\n      type: 'LOGOUT_FAILURE',\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}