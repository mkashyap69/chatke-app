{"ast":null,"code":"import axios from 'axios';\nexport const login = (email, password) => async dispatch => {\n  try {\n    dispatch({\n      type: 'USER_LOGIN_START'\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post('http://localhost:9000/api/v1/users/login', {\n      email,\n      password\n    }, config);\n    dispatch({\n      type: 'USER_LOGIN_SUCCESS',\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: 'USER_LOGIN_FAILURE',\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const signup = userData => async dispatch => {\n  try {\n    dispatch({\n      type: 'USER_SIGNUP_START'\n    });\n    const config = {\n      headers: {\n        'Content-type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post('http://localhost:9000/api/v1/users/signup', userData, config);\n    dispatch({\n      type: 'USER_SIGNUP_SUCCESS',\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: 'USER_SIGNUP_FAILURE',\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};\nexport const getUserByUserId = userId => async (dispatch, getState) => {\n  try {\n    let cancelToken;\n    dispatch({\n      type: 'GET_USER_START'\n    });\n\n    if (typeof cancelToken != typeof undefined) {\n      cancelToken.cancel(\"Cancelling the previous request\");\n    }\n\n    cancelToken = axios.cancel;\n    const {\n      user\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${user.data.token}`\n      }\n    };\n    const {\n      data\n    } = await axios.get(`http://localhost:9000/api/v1/users/${userId}`, config);\n    dispatch({\n      type: 'GET_USER_SUCCESS',\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: 'GET_USER_FAILURE',\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n};","map":{"version":3,"sources":["/Users/manish./Desktop/WebDev/whatsapp-socketio-master/client/src/redux/actions/userActions.js"],"names":["axios","login","email","password","dispatch","type","config","headers","data","post","payload","error","response","message","signup","userData","getUserByUserId","userId","getState","cancelToken","undefined","cancel","user","Authorization","token","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,KAAK,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB,MAAOC,QAAP,IAAoB;AAC5D,MAAI;AACFA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE;AADC,KAAD,CAAR;AAIA,UAAMC,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADI,KAAf;AAMA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMR,KAAK,CAACS,IAAN,CACrB,0CADqB,EAErB;AAAEP,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAFqB,EAGrBG,MAHqB,CAAvB;AAMAF,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE,oBADC;AAEPK,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAID,GArBD,CAqBE,OAAOG,KAAP,EAAc;AACdP,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE,oBADC;AAEPK,MAAAA,OAAO,EACLC,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK,OAAtC,GACIF,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK,OADxB,GAEIF,KAAK,CAACE;AALL,KAAD,CAAR;AAOD;AACF,CA/BM;AAiCP,OAAO,MAAMC,MAAM,GAAIC,QAAD,IAAc,MAAOX,QAAP,IAAoB;AACtD,MAAI;AACFA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE;AADC,KAAD,CAAR;AAIA,UAAMC,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADI,KAAf;AAMA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMR,KAAK,CAACS,IAAN,CACrB,2CADqB,EAErBM,QAFqB,EAGrBT,MAHqB,CAAvB;AAMAF,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE,qBADC;AAEPK,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAID,GArBD,CAqBE,OAAOG,KAAP,EAAc;AACdP,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE,qBADC;AAEPK,MAAAA,OAAO,EACLC,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK,OAAtC,GACIF,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK,OADxB,GAEIF,KAAK,CAACE;AALL,KAAD,CAAR;AAOD;AACF,CA/BM;AAiCP,OAAO,MAAMG,eAAe,GAAIC,MAAD,IAAY,OAAOb,QAAP,EAAiBc,QAAjB,KAA8B;AACvE,MAAI;AACF,QAAIC,WAAJ;AACAf,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE;AADC,KAAD,CAAR;;AAIA,QAAG,OAAOc,WAAP,IAAoB,OAAOC,SAA9B,EAAwC;AACtCD,MAAAA,WAAW,CAACE,MAAZ,CAAmB,iCAAnB;AACD;;AAEDF,IAAAA,WAAW,GAACnB,KAAK,CAACqB,MAAlB;AAEA,UAAM;AAAEC,MAAAA;AAAF,QAAWJ,QAAQ,EAAzB;AAEA,UAAMZ,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACPgB,QAAAA,aAAa,EAAG,UAASD,IAAI,CAACd,IAAL,CAAUgB,KAAM;AADlC;AADI,KAAf;AAMA,UAAM;AAAEhB,MAAAA;AAAF,QAAW,MAAMR,KAAK,CAACyB,GAAN,CACpB,sCAAqCR,MAAO,EADxB,EAErBX,MAFqB,CAAvB;AAKAF,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE,kBADC;AAEPK,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAID,GA7BD,CA6BE,OAAOG,KAAP,EAAc;AACdP,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE,kBADC;AAEPK,MAAAA,OAAO,EACLC,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK,OAAtC,GACIF,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK,OADxB,GAEIF,KAAK,CAACE;AALL,KAAD,CAAR;AAOD;AACF,CAvCM","sourcesContent":["import axios from 'axios';\n\nexport const login = (email, password) => async (dispatch) => {\n  try {\n    dispatch({\n      type: 'USER_LOGIN_START',\n    });\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    const { data } = await axios.post(\n      'http://localhost:9000/api/v1/users/login',\n      { email, password },\n      config\n    );\n\n    dispatch({\n      type: 'USER_LOGIN_SUCCESS',\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: 'USER_LOGIN_FAILURE',\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n\nexport const signup = (userData) => async (dispatch) => {\n  try {\n    dispatch({\n      type: 'USER_SIGNUP_START',\n    });\n\n    const config = {\n      headers: {\n        'Content-type': 'application/json',\n      },\n    };\n\n    const { data } = await axios.post(\n      'http://localhost:9000/api/v1/users/signup',\n      userData,\n      config\n    );\n\n    dispatch({\n      type: 'USER_SIGNUP_SUCCESS',\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: 'USER_SIGNUP_FAILURE',\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n\nexport const getUserByUserId = (userId) => async (dispatch, getState) => {\n  try {\n    let cancelToken;\n    dispatch({\n      type: 'GET_USER_START',\n    });\n\n    if(typeof cancelToken!=typeof undefined){\n      cancelToken.cancel(\"Cancelling the previous request\");\n    }\n\n    cancelToken=axios.cancel\n\n    const { user } = getState();\n\n    const config = {\n      headers: {\n        Authorization: `Bearer ${user.data.token}`,\n      },\n    };\n\n    const { data } = await axios.get(\n      `http://localhost:9000/api/v1/users/${userId}`,\n      config\n    );\n\n    dispatch({\n      type: 'GET_USER_SUCCESS',\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: 'GET_USER_FAILURE',\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    });\n  }\n};\n"]},"metadata":{},"sourceType":"module"}